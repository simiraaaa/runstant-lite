footer
  div.row
    div.col.s6
      input(type='text', value='{runstant.project.data.setting.title}', onblur='{onblurtitle}')
    div.col.s6
      ul
        li
          a(href='http://twitter.com/phi_jp', target='_blank')
            i.small.material-icons account_box
        li
          a(href='http://github.com/phi-jp', target='_blank')
            i.small.material-icons build
        li
          a#footer-download(href='', onclick='{download}')
            i.small.material-icons get_app
        //- li
        //-   a(href='')
        //-     i.small.material-icons dashboard
        li
          //- a(href='', onclick='runstant.userModal.open(); return false;')
          a(href='/user', target='_blank')
            i.small.material-icons settings_applications

  style.
    footer {
      position: fixed;
      height: 30px;
      width: 100%;
      background-color: hsl(200, 18%, 26%)!important;
      bottom: 0;
      color: white;

      -webkit-transform: translate(0, 0);
      -moz-transform: translate(0, 0);
      transform: translate(0, 0);
    }
    footer .row {

    }

    footer input {
      width: auto !important;
      height: 1.8rem !important;
    }

    footer ul {
      margin: 3px;
      text-align: right;
    }

    footer ul li {
      display: inline-block;
      margin-right: 10px;
    }
    footer ul li a {
      color: white;
    }
    footer ul li a i {
      position: relative;
      top: 3px;
      font-size: 15px !important;
    }

  script.
    this.onblurtitle = function(e) {
      var title = e.target.value;
      runstant.project.data.setting.title = title;
      runstant.project.save();
      riot.update();
    };
    this.download = function(e) {
      var title = '{title}.json'
        .replace('{title}', runstant.project.data.setting.title)
        .replace(/\s/g, '_')
        ;
      var json = JSON.stringify(runstant.project.data, null, '  ');
      var blob = new Blob([json]);
      var url = window.URL.createObjectURL(blob);

      var elm = document.getElementById('footer-download');

      elm.download = title;
      elm.href = url;
      
      return true;
    };
